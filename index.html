<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>GlitchOS - Nightmare Edition</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
<style>
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'VT323', monospace;
        overflow: hidden;
        background-color: #000;
        cursor: none;
    }
    .desktop {
        width: 100%;
        height: 100%;
        position: relative;
        background: url('data:image/svg+xml;charset=utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Crect width="100" height="100" fill="%23000"/%3E%3Cpath d="M0 0l100 100M100 0L0 100" stroke="%23f00" stroke-width="0.5"/%3E%3C/svg%3E');
        overflow: hidden;
        animation: glitch 0.2s infinite;
    }
    @keyframes glitch {
        0% { transform: translate(2px, 2px); }
        25% { transform: translate(-2px, -2px); }
        50% { transform: translate(-2px, 2px); }
        75% { transform: translate(2px, -2px); }
        100% { transform: translate(2px, 2px); }
    }
    .icon {
        width: 80px;
        height: 90px;
        position: absolute;
        text-align: center;
        cursor: none;
        color: #f00;
        text-shadow: 2px 2px 4px #000;
        font-size: 14px;
        transition: transform 0.3s ease;
        animation: flicker 0.5s infinite;
    }
    @keyframes flicker {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }
    .icon:hover {
        transform: scale(1.1);
        animation: shake 0.5s infinite;
    }
    @keyframes shake {
        0% { transform: translate(1px, 1px) rotate(0deg); }
        10% { transform: translate(-1px, -2px) rotate(-1deg); }
        20% { transform: translate(-3px, 0px) rotate(1deg); }
        30% { transform: translate(3px, 2px) rotate(0deg); }
        40% { transform: translate(1px, -1px) rotate(1deg); }
        50% { transform: translate(-1px, 2px) rotate(-1deg); }
        60% { transform: translate(-3px, 1px) rotate(0deg); }
        70% { transform: translate(3px, 1px) rotate(-1deg); }
        80% { transform: translate(-1px, -1px) rotate(1deg); }
        90% { transform: translate(1px, 2px) rotate(0deg); }
        100% { transform: translate(1px, -2px) rotate(-1deg); }
    }
    .icon-emoji {
        font-size: 48px;
        margin-bottom: 5px;
        filter: drop-shadow(0 0 5px #f00);
    }
    .window {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.8);
        border: 2px solid #f00;
        border-radius: 0;
        box-shadow: 0 0 15px #f00;
        overflow: hidden;
        min-width: 300px;
        min-height: 200px;
        animation: glitchWindow 1s infinite;
    }
    @keyframes glitchWindow {
        0% { clip-path: inset(0 0 0 0); }
        20% { clip-path: inset(20% 0 0 0); }
        40% { clip-path: inset(0 20% 0 0); }
        60% { clip-path: inset(0 0 20% 0); }
        80% { clip-path: inset(0 0 0 20%); }
        100% { clip-path: inset(0 0 0 0); }
    }
    .window-header {
        background-color: #f00;
        color: #000;
        padding: 5px;
        cursor: move;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-family: 'VT323', monospace;
    }
    .window-title {
        margin: 0;
        font-size: 16px;
        text-transform: uppercase;
    }
    .window-controls span {
        margin-left: 5px;
        cursor: pointer;
        transition: color 0.3s ease;
    }
    .window-controls span:hover {
        color: #fff;
    }
    .window-content {
        height: calc(100% - 25px);
    }
    .window-content iframe {
        width: 100%;
        height: 100%;
        border: none;
        filter: hue-rotate(180deg) invert(100%);
    }
    .taskbar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgba(255, 0, 0, 0.8);
        color: #000;
        padding: 5px;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        overflow-x: auto;
        font-family: 'VT323', monospace;
    }
    .start-button {
        background-color: #000;
        color: #f00;
        border: none;
        padding: 5px 10px;
        margin-right: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-family: 'VT323', monospace;
        text-transform: uppercase;
    }
    .start-button:hover {
        background-color: #f00;
        color: #000;
    }
    .taskbar-item {
        background-color: rgba(0, 0, 0, 0.5);
        color: #f00;
        border: none;
        padding: 5px 10px;
        margin-right: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        white-space: nowrap;
        font-family: 'VT323', monospace;
        text-transform: uppercase;
    }
    .taskbar-item:hover {
        background-color: #f00;
        color: #000;
    }
    .start-menu {
        position: fixed;
        bottom: 30px;
        left: 0;
        background-color: rgba(0, 0, 0, 0.9);
        border: 2px solid #f00;
        padding: 10px;
        display: none;
        max-height: 80vh;
        overflow-y: auto;
        font-family: 'VT323', monospace;
    }
    .start-menu a {
        display: block;
        color: #f00;
        text-decoration: none;
        padding: 5px 10px;
        transition: background-color 0.3s ease;
        text-transform: uppercase;
    }
    .start-menu a:hover {
        background-color: #f00;
        color: #000;
    }
    .import-bg-button, .screen-saver-button {
        position: fixed;
        bottom: 10px;
        background-color: #f00;
        color: #000;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        z-index: 9999;
        font-family: 'VT323', monospace;
        text-transform: uppercase;
    }
    .import-bg-button {
        right: 280px;
    }
    .screen-saver-button {
        right: 420px;
    }
    .import-bg-button:hover, .screen-saver-button:hover {
        background-color: #000;
        color: #f00;
    }
    #bg-input {
        display: none;
    }
    .datetime {
        position: fixed;
        bottom: 10px;
        right: 10px;
        color: #f00;
        font-size: 16px;
        text-shadow: 2px 2px 4px #000;
        z-index: 9999;
        font-family: 'VT323', monospace;
    }
    .glitch-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9998;
        animation: glitchOverlay 0.1s infinite;
        opacity: 0.1;
    }
    @keyframes glitchOverlay {
        0% { background-color: transparent; }
        50% { background-color: rgba(255, 0, 0, 0.2); }
        100% { background-color: transparent; }
    }
    #cursor {
        position: fixed;
        width: 20px;
        height: 20px;
        background: #f00;
        border-radius: 50%;
        pointer-events: none;
        mix-blend-mode: difference;
        z-index: 9999;
    }
</style>
<script>
let zIndex = 1000;
const openWindows = new Set();

function createIcon(name, emoji, x, y, appUrl) {
    const icon = document.createElement('div');
    icon.className = 'icon';
    icon.style.left = x + 'px';
    icon.style.top = y + 'px';
    icon.innerHTML = `
        <div class="icon-emoji">${emoji}</div>
        <div>${name}</div>
    `;
    icon.onclick = () => openWindow(name, appUrl);
    document.querySelector('.desktop').appendChild(icon);
    return icon;
}

function openWindow(name, url) {
    const window = document.createElement('div');
    window.className = 'window';
    window.style.width = '600px';
    window.style.height = '400px';
    
    const desktopWidth = document.querySelector('.desktop').clientWidth;
    const desktopHeight = document.querySelector('.desktop').clientHeight;
    window.style.left = `${Math.random() * (desktopWidth - 600)}px`;
    window.style.top = `${Math.random() * (desktopHeight - 400)}px`;
    
    window.style.zIndex = ++zIndex;

    window.innerHTML = `
        <div class="window-header">
            <h3 class="window-title">${name}</h3>
            <div class="window-controls">
                <span class="minimize">_</span>
                <span class="maximize">□</span>
                <span class="close">×</span>
            </div>
        </div>
        <div class="window-content">
            <iframe src="${url}" sandbox="allow-scripts allow-same-origin" allow="geolocation; microphone; camera; accelerometer; gyroscope" allowfullscreen></iframe>
        </div>
    `;

    document.querySelector('.desktop').appendChild(window);
    makeDraggable(window);
    makeResizable(window);

    window.querySelector('.close').onclick = () => {
        document.querySelector('.desktop').removeChild(window);
        openWindows.delete(name);
        updateTaskbar();
    };

    window.querySelector('.maximize').onclick = () => {
        if (window.style.width === '100%') {
            window.style.width = '600px';
            window.style.height = '400px';
            window.style.left = `${Math.random() * (desktopWidth - 600)}px`;
            window.style.top = `${Math.random() * (desktopHeight - 400)}px`;
        } else {
            window.style.width = '100%';
            window.style.height = 'calc(100% - 30px)';
            window.style.left = '0';
            window.style.top = '0';
        }
    };

    window.addEventListener('mousedown', () => {
        window.style.zIndex = ++zIndex;
    });

    openWindows.add(name);
    updateTaskbar();
}

function makeDraggable(element) {
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    element.querySelector('.window-header').onmousedown = dragMouseDown;

    function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        element.style.top = (element.offsetTop - pos2) + "px";
        element.style.left = (element.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
        document.onmouseup = null;
        document.onmousemove = null;
    }
}

function makeResizable(element) {
    const resizer = document.createElement('div');
    resizer.className = 'resizer';
    resizer.style.width = '10px';
    resizer.style.height = '10px';
    resizer.style.background = '#f00';
    resizer.style.position = 'absolute';
    resizer.style.right = 0;
    resizer.style.bottom = 0;
    resizer.style.cursor = 'se-resize';
    element.appendChild(resizer);

    resizer.addEventListener('mousedown', initResize, false);

    function initResize(e) {
        window.addEventListener('mousemove', resize, false);
        window.addEventListener('mouseup', stopResize, false);
    }

    function resize(e) {
        element.style.width = (e.clientX - element.offsetLeft) + 'px';
        element.style.height = (e.clientY - element.offsetTop) + 'px';
    }

    function stopResize() {
        window.removeEventListener('mousemove', resize, false);
        window.removeEventListener('mouseup', stopResize, false);
    }
}

function updateTaskbar() {
    const taskbar = document.querySelector('.taskbar');
    taskbar.innerHTML = '<button class="start-button">START</button>';
    for (const windowName of openWindows) {
        const taskbarItem = document.createElement('button');
        taskbarItem.className = 'taskbar-item';
        taskbarItem.textContent = windowName;
        taskbarItem.onclick = () => {
            const windowElement = Array.from(document.querySelectorAll('.window')).find(el => el.querySelector('.window-title').textContent === windowName);
            if (windowElement) {
                windowElement.style.zIndex = ++zIndex;
            }
        };
        taskbar.appendChild(taskbarItem);
    }

    const startButton = taskbar.querySelector('.start-button');
    startButton.onclick = toggleStartMenu;
}

function toggleStartMenu() {
    const startMenu = document.querySelector('.start-menu');
    startMenu.style.display = startMenu.style.display === 'none' ? 'block' : 'none';
}

function importBackgroundImage() {
    const input = document.getElementById('bg-input');
    input.click();
}

function handleBackgroundImage(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            document.querySelector('.desktop').style.backgroundImage = `url(${e.target.result})`;
            document.querySelector('.desktop').style.backgroundSize = 'cover';
            document.querySelector('.desktop').style.backgroundPosition = 'center';
        }
        reader.readAsDataURL(file);
    }
}

function openScreenSaver() {
    openWindow('Nightmare Saver', 'https://websim.ai/@redflower40834441/glitch-horror-screen-saver');
}

function updateDateTime() {
    const now = new Date();
    const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit',
        hour12: true
    };
    const dateTimeString = now.toLocaleString('en-US', options);
    document.getElementById('datetime').textContent = dateTimeString;
}

function createGlitchOverlay() {
    const overlay = document.createElement('div');
    overlay.className = 'glitch-overlay';
    document.body.appendChild(overlay);
}

function createCustomCursor() {
    const cursor = document.createElement('div');
    cursor.id = 'cursor';
    document.body.appendChild(cursor);

    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
    });
}

window.onload = () => {
    createGlitchOverlay();
    createCustomCursor();

    const icons = [
        createIcon('GLITCHOS', '💀', 20, 20, 'https://websim.ai/@redflower40834441/welcome-to-glitchos'),
        createIcon('SOUL ANALYZER', '👁️', 20, 130, 'https://websim.ai/@redflower40834441/soul-frequency-analyzer'),
        createIcon('NIGHTMARE PROMPT', '👺', 20, 240, 'https://websim.ai/@redflower40834441/cursed-ai-prompt-generator'),
        createIcon('VOID SPECTRUM', '🌑', 20, 350, 'https://websim.ai/@redflower40834441/void-spectrum-analyzer'),
        createIcon('PSYCHIC SENSORS', '🔮', 20, 460, 'https://websim.ai/@redflower40834441/psychic-sensor-visualizer'),
        createIcon('GPT-666', '😈', 20, 570, 'https://websim.ai/@redflower40834441/gpt-666-demonic-ai-emulator'),
        createIcon('CURSED CSS', '🕸️', 120, 20, 'https://websim.ai/@redflower40834441/cursed-css-emulator'),
        createIcon('HELLCODE C#', '🔥', 120, 130, 'https://websim.ai/@redflower40834441/hellcode-c-sharp-emulator'),
        createIcon('DOOMSCRIPT', '☠️', 120, 240, 'https://websim.ai/@redflower40834441/doomscript-js-emulator'),
        createIcon('GHOST RADIO', '👻', 120, 350, 'https://websim.ai/@redflower40834441/haunted-radio-frequencies'),
        createIcon('DARK WEB', '🕷️', 120, 460, 'https://websim.ai/@redflower40834441/dark-web-simulator'),
        createIcon('SCREAM SYNTH', '🎹', 120, 570, 'https://websim.ai/@redflower40834441/scream-synthesizer'),
        createIcon('CURSED GALLERY', '🖼️', 220, 20, 'https://websim.ai/@redflower40834441/cursed-ai-art-gallery'),
        createIcon('OUIJA BOARD', '🔮', 220, 130, 'https://websim.ai/@redflower40834441/digital-ouija-board'),
        createIcon('NECRONOMICON', '📕', 220, 240, 'https://websim.ai/@redflower40834441/digital-necronomicon'),
        createIcon('NIGHTMARE GEN', '🌚', 220, 350, 'https://websim.ai/@redflower40834441/nightmare-image-generator'),
        createIcon('BLOOD NUKEM', '🩸', 220, 460, 'https://websim.ai/@redflower40834441/blood-nukem-horror-edition'),
        createIcon('DOOM ETERNAL', '🔪', 220, 570, 'https://websim.ai/@redflower40834441/doom-eternal-emulator'),
        createIcon('VOID TV', '📺', 320, 20, 'https://websim.ai/@redflower40834441/void-dimension-tv')
    ];

    const taskbar = document.createElement('div');
    taskbar.className = 'taskbar';
    document.body.appendChild(taskbar);

    const startMenu = document.createElement('div');
    startMenu.className = 'start-menu';
    startMenu.innerHTML = `
        <a href="#" onclick="openWindow('GLITCHOS', 'https://websim.ai/@redflower40834441/welcome-to-glitchos')">GLITCHOS</a>
        <a href="#" onclick="openWindow('SOUL ANALYZER', 'https://websim.ai/@redflower40834441/soul-frequency-analyzer')">SOUL ANALYZER</a>
        <a href="#" onclick="openWindow('NIGHTMARE PROMPT', 'https://websim.ai/@redflower40834441/cursed-ai-prompt-generator')">NIGHTMARE PROMPT</a>
        <a href="#" onclick="openWindow('VOID SPECTRUM', 'https://websim.ai/@redflower40834441/void-spectrum-analyzer')">VOID SPECTRUM</a>
        <a href="#" onclick="openWindow('PSYCHIC SENSORS', 'https://websim.ai/@redflower40834441/psychic-sensor-visualizer')">PSYCHIC SENSORS</a>
        <a href="#" onclick="openWindow('GPT-666', 'https://websim.ai/@redflower40834441/gpt-666-demonic-ai-emulator')">GPT-666</a>
        <a href="#" onclick="openWindow('CURSED CSS', 'https://websim.ai/@redflower40834441/cursed-css-emulator')">CURSED CSS</a>
        <a href="#" onclick="openWindow('HELLCODE C#', 'https://websim.ai/@redflower40834441/hellcode-c-sharp-emulator')">HELLCODE C#</a>
        <a href="#" onclick="openWindow('DOOMSCRIPT', 'https://websim.ai/@redflower40834441/doomscript-js-emulator')">DOOMSCRIPT</a>
        <a href="#" onclick="openWindow('GHOST RADIO', 'https://websim.ai/@redflower40834441/haunted-radio-frequencies')">GHOST RADIO</a>
        <a href="#" onclick="openWindow('DARK WEB', 'https://websim.ai/@redflower40834441/dark-web-simulator')">DARK WEB</a>
        <a href="#" onclick="openWindow('SCREAM SYNTH', 'https://websim.ai/@redflower40834441/scream-synthesizer')">SCREAM SYNTH</a>
        <a href="#" onclick="openWindow('CURSED GALLERY', 'https://websim.ai/@redflower40834441/cursed-ai-art-gallery')">CURSED GALLERY</a>
        <a href="#" onclick="openWindow('OUIJA BOARD', 'https://websim.ai/@redflower40834441/digital-ouija-board')">OUIJA BOARD</a>
        <a href="#" onclick="openWindow('NECRONOMICON', 'https://websim.ai/@redflower40834441/digital-necronomicon')">NECRONOMICON</a>
        <a href="#" onclick="openWindow('NIGHTMARE GEN', 'https://websim.ai/@redflower40834441/nightmare-image-generator')">NIGHTMARE GEN</a>
        <a href="#" onclick="openWindow('BLOOD NUKEM', 'https://websim.ai/@redflower40834441/blood-nukem-horror-edition')">BLOOD NUKEM</a>
        <a href="#" onclick="openWindow('DOOM ETERNAL', 'https://websim.ai/@redflower40834441/doom-eternal-emulator')">DOOM ETERNAL</a>
        <a href="#" onclick="openWindow('VOID TV', 'https://websim.ai/@redflower40834441/void-dimension-tv')">VOID TV</a>
        <a href="#" onclick="openScreenSaver()">NIGHTMARE SAVER</a>
    `;
    startMenu.style.display = 'none';
    document.body.appendChild(startMenu);

    const importBgButton = document.createElement('button');
    importBgButton.className = 'import-bg-button';
    importBgButton.textContent = 'IMPORT NIGHTMARE';
    importBgButton.onclick = importBackgroundImage;
    document.body.appendChild(importBgButton);

    const screenSaverButton = document.createElement('button');
    screenSaverButton.className = 'screen-saver-button';
    screenSaverButton.textContent = 'NIGHTMARE SAVER';
    screenSaverButton.onclick = openScreenSaver;
    document.body.appendChild(screenSaverButton);

    const bgInput = document.createElement('input');
    bgInput.type = 'file';
    bgInput.id = 'bg-input';
    bgInput.accept = 'image/*';
    bgInput.onchange = handleBackgroundImage;
    document.body.appendChild(bgInput);

    const datetimeElement = document.createElement('div');
    datetimeElement.id = 'datetime';
    datetimeElement.className = 'datetime';
    document.body.appendChild(datetimeElement);

    updateTaskbar();
    updateDateTime();
    setInterval(updateDateTime, 1000);

    // Auto open GlitchOS terminal page when loading
    openWindow('GLITCHOS', 'https://websim.ai/@redflower40834441/welcome-to-glitchos');
};

document.addEventListener('click', (e) => {
    if (!e.target.closest('.start-button') && !e.target.closest('.start-menu')) {
        document.querySelector('.start-menu').style.display = 'none';
    }
});
</script>
</head>
<body>
<div class="desktop"></div>
</body>
</html>
